(this["webpackJsonptodoist-app"]=this["webpackJsonptodoist-app"]||[]).push([[0],{10:function(e,t,a){"use strict";a.d(t,"a",(function(){return c})),a.d(t,"d",(function(){return r})),a.d(t,"c",(function(){return s})),a.d(t,"b",(function(){return o}));var n=a(15),c=function(e){return n.b.find((function(t){return t.key===e}))},r=function(e,t){return e.find((function(e){return e.projectId===t}))},s=function(e,t){return e.find((function(e){return e.key===t}))},o=function(){var e="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",t=[];return function(){for(var a=(new Date).getTime(),n=new Array(8),c=7;c>=0;c--)n[c]=e.charAt(a%64),a=Math.floor(a/64);for(var r=n.join(""),s=0;s<12;s++)r+=e.charAt(t[s]);return r}}()},14:function(e,t,a){"use strict";a.d(t,"b",(function(){return m})),a.d(t,"a",(function(){return b}));var n=a(27),c=a(4),r=a(1),s=a(10),o=a(8),l=a.n(o),d=a(9);function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(a,!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var m=function(e){var t=Object(r.useState)([]),a=Object(c.a)(t,2),n=a[0],o=a[1],i=Object(r.useState)([]),m=Object(c.a)(i,2),b=m[0],p=m[1];return Object(r.useEffect)((function(){var t=d.a.firestore().collection("tasks").where("userId","==","9M6CyUPreOyC8cQgA5E3");return t=(t=e&&!Object(s.a)(e)?t=t.where("projectId","==",e):"TODAY"===e?t=t.where("date","==",l()().format("DD/MM/YYYY")):"INBOX"===e||0===e?t=t.where("date","==",""):t).onSnapshot((function(t){var a=t.docs.map((function(e){return u({id:e.id},e.data())}));o("NEXT_7"===e?a.filter((function(e){return l()(e.date,"DD-MM-YYYY").diff(l()(),"days")<=7&&!0!==e.archived})):a.filter((function(e){return!0!==e.archived}))),p((function(e){return!1!==e.archived}))})),function(){return t()}}),[e]),{tasks:n,archivedTasks:b}},b=function(){var e=Object(r.useState)([]),t=Object(c.a)(e,2),a=t[0],n=t[1];return Object(r.useEffect)((function(){d.a.firestore().collection("projects").where("userId","==","9M6CyUPreOyC8cQgA5E3").orderBy("projectId").get().then((function(e){var t=e.docs.map((function(e){return u({},e.data(),{docId:e.id})}));JSON.stringify(t)!==JSON.stringify(a)&&n(t)}))}),[a]),[a,n]}},15:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n=[{key:"INBOX",name:"Inbox"},{key:"TODAY",name:"Todays"},{key:"NEXT_7",name:"Next 7 Days News"}];t.b=n},16:function(e,t,a){"use strict";var n=a(4),c=a(1),r=a.n(c),s=a(6),o=a(8),l=a.n(o),d=a(9),i=a(5),u=function(e){var t=e.setProject,a=e.showProjectOverlay,n=e.setShowProjectOverlay,c=Object(i.c)().projects;return c&&a&&r.a.createElement("div",{className:"project-overlay","data-testid":"project-overlay"},r.a.createElement("ul",{className:"project-overlay__list"},c.map((function(e){return r.a.createElement("li",{key:e.projectId,className:"project-overlay__item"},r.a.createElement("button",{className:"project-overlay__item-btn",type:"button","data-testid":"project-overlay-action",onClick:function(){t(e.projectId),n(!1)}},r.a.createElement("span",{className:"project-overlay__dot"},"\u2022"),e.name))}))))},m=function(e){var t=e.setTaskDate,a=e.showTaskDate,n=e.setShowTaskDate;return a&&r.a.createElement("div",{className:"task-date","data-testid":"task-date-overlay"},r.a.createElement("ul",{className:"task-date__list"},r.a.createElement("li",{className:"task-date__list-item"},r.a.createElement("button",{type:"button","data-testid":"task-date-today",className:"task-date__list-btn",onClick:function(){n(!1),t(l()().format("DD/MM/YYYY"))}},r.a.createElement("span",null,r.a.createElement(s.h,null)),r.a.createElement("span",null,"Today"))),r.a.createElement("li",{className:"task-date__list-item"},r.a.createElement("button",{type:"button",className:"task-date__list-btn","data-testid":"task-date-tomorrow",onClick:function(){console.log("click"),n(!1),t(l()().add(1,"day").format("DD/MM/YYYY"))}},r.a.createElement("span",null,r.a.createElement(s.i,null)),r.a.createElement("span",null,"Tomorrow"))),r.a.createElement("li",{className:"task-date__list-item"},r.a.createElement("button",{type:"button","data-testid":"task-date-next_week",className:"task-date__list-btn",onClick:function(){n(!1),t(l()().add(7,"days").format("DD/MM/YYYY"))}},r.a.createElement("span",null,r.a.createElement(s.g,null)),r.a.createElement("span",null,"Next week")))))},b=a(11);t.a=function(e){var t=e.showAddTaskMain,a=void 0===t||t,o=e.showShouldMain,p=void 0!==o&&o,f=e.showQuickAddTask,j=e.setShowQuickAddTask,E=Object(c.useState)(""),k=Object(n.a)(E,2),O=k[0],v=k[1],y=Object(c.useState)(""),N=Object(n.a)(y,2),h=N[0],_=N[1],A=Object(c.useState)(""),w=Object(n.a)(A,2),g=w[0],S=w[1],D=Object(c.useState)(p),C=Object(n.a)(D,2),T=C[0],M=C[1],Y=Object(c.useState)(!1),x=Object(n.a)(Y,2),I=x[0],B=x[1],P=Object(c.useState)(!1),U=Object(n.a)(P,2),z=U[0],R=U[1],q=Object(i.d)().selectedProject,H=Object(c.useRef)();return Object(c.useEffect)((function(){(T||f)&&H.current.focus()}),[T,f]),r.a.createElement("div",{className:f?"add-task add-task__overlay":"add-task","data-testid":"add-task-comp"},a&&!(T||f)&&r.a.createElement("button",{type:"button",className:"add-task__shallow","data-testid":"show-main-action",onClick:function(){M(!T)}},r.a.createElement("span",null,r.a.createElement(b.a,null)),"Add task"),(T||f)&&r.a.createElement("div",{"data-testid":"add-task-main",className:"add-task__main"},f&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{"data-testid":"quick-add-task",className:"add-task__quick"},r.a.createElement("h2",{className:"header-add-task"},"Quick Add Task"),r.a.createElement("button",{type:"button",className:"add-task__cancel-x","data-testid":"add-task-quick-cancel",onClick:function(){M(!1),B(!1),j(!1)}},r.a.createElement(b.b,null)))),r.a.createElement(u,{setProject:S,showProjectOverlay:I,setShowProjectOverlay:B}),r.a.createElement(m,{setTaskDate:_,showTaskDate:z,setShowTaskDate:R}),r.a.createElement("input",{type:"text",ref:H,className:"add-task__content","data-testid":"add-task-content",value:O,onChange:function(e){return v(e.target.value)}}),r.a.createElement("div",{className:"add-task__actions"},r.a.createElement("button",{type:"button",className:"add-task__submit","data-testid":"add-task",onClick:function(){!function(){var e=g||q;console.log(e);var t="";switch(e){case"TODAY":t=l()().format("DD/MM/YYYY");break;case"NEXT_7":t=l()().add(7,"days").format("DD/MM/YYYY")}O&&e&&d.a.firestore().collection("tasks").add({archived:!1,projectId:e,task:O,date:t||h,userId:"9M6CyUPreOyC8cQgA5E3"}).then((function(e){console.log(e),v("")}))}(),M(!1),B(!1),f&&j(!1)}},"Add Task"),!f&&r.a.createElement("button",{type:"button",className:"add-task__cancel","data-testid":"add-task-main-cancel",onClick:function(){M(!1),B(!1)}},"Cancel"),r.a.createElement("div",null),r.a.createElement("div",{className:"add-task__actions-right"},r.a.createElement("button",{type:"button",className:"add-task__action","data-testid":"show-task-date-overlay",onClick:function(){return B(!I)}},r.a.createElement(s.f,null)),r.a.createElement("button",{type:"button",className:"add-task__action","data-testid":"show-task-date-overlay",onClick:function(){return R(!z)}},r.a.createElement(s.e,null))))))}},23:function(e,t,a){"use strict";(function(e){var n=a(4),c=a(1),r=a.n(c),s=a(24),o=a(32),l=a(5),d=(a(53),a(31));t.a=Object(d.hot)(e)((function(e){var t=e.darkModeDefault,a=void 0!==t&&t,d=Object(c.useState)(a),i=Object(n.a)(d,2),u=i[0],m=i[1];return r.a.createElement(l.b,null,r.a.createElement(l.a,null,r.a.createElement("main",{className:"App ".concat(u?"darkmode":"")},r.a.createElement(s.a,{darkMode:u,setDarkMode:m}),r.a.createElement(o.a,null))))}))}).call(this,a(40)(e))},24:function(e,t,a){"use strict";var n=a(4),c=a(1),r=a.n(c),s=a(6),o=a(11),l=a(25),d=a.n(l),i=a(16);t.a=function(e){var t=e.darkMode,a=e.setDarkMode,l=Object(c.useState)(!1),u=Object(n.a)(l,2),m=u[0],b=u[1],p=Object(c.useState)(!1),f=Object(n.a)(p,2),j=f[0],E=f[1];return r.a.createElement("header",{className:"header","data-testid":"header"},r.a.createElement("nav",null,r.a.createElement("div",{className:"header__logo"},r.a.createElement("img",{src:d.a,alt:"todoist"})),r.a.createElement("div",{className:"header__settings"},r.a.createElement("ul",null,r.a.createElement("li",{"data-testid":"quick-add-task-action",className:"settings__add"},r.a.createElement("button",{type:"button","data-testid":"dark-mode-action",className:"settings__btn",onClick:function(){E(!0),b(!0)}},r.a.createElement(o.a,null))),r.a.createElement("li",{className:"settings__darkmode"},r.a.createElement("button",{type:"button","data-testid":"dark-mode-action",className:"settings__btn",onClick:function(){return a(!t)}},r.a.createElement(s.c,null)))))),r.a.createElement(i.a,{showAddTaskMain:!1,shouldShowMain:m,showQuickAddTask:j,setShowQuickAddTask:E}))}},25:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAEfklEQVRogdWaa4hVVRTH//cyTWZhjQWZhZRkZhaVFBQ96AFFBKWV9iAliehDRiBSJGohQpLUB/VDCUlkNnNBgl5+iIysMHtY9IBKeihhGvjInEw05hfrzj7M9ex1jjN3zp3p/GHBPWfvtddaZ6/X2edWAAVUJN0T6CJJIyURqKI+5F3TsFbWdX/XSl/vl7RF0mpJG/pmgNEo4G3Kg+VAtf7ww493SqR8gqVmgLnQnZLWqXw4ImlKVdKsEipvOE7SNDNgUjRUHkw0A44vsQHt1YZUV0b0VFN5t5U4KGlfwetTjW4Vjx5JL0q6OMTbfEm7C5JSsTqwLcqwxeFd4OpQLBvphoIk1Npa5ELfS1qUUV9sFx6N7jYHzID2AhXfK+k5SSskHUiNdUiaJ2mOpFER5yAM2CppTDQ0MJifvyJpiaSfU5y2wzMlLZA0oSDF+9YGTgIWAnsiD+sfNgLXOH6u4P8bWxhjtUZh5wAvAf9G03z8AMwEKo7i5wMvAz0uZ3Ho8p6aPc2PckTsAxaHFjzNezIwH9gfccFfwB/R3cGh04Se5ihiLfZsYHtq+TXAuc58o/uAHx11bBdWA+OB0cFd90azmkN9B74GngZGOkqZcQuCO1znjBtdCWzIEP8+cJXDc2M0sznUY+D3wGqGzHCEZdE4YBVwxBGdFx8TbOsjjuZQd6GdKdY3gSmO4IROBOZm+POfwJIQC158LAwxVBTqBnzsLHYIWAmMTSlxL/BtNLsX5ufnOYobPRB2pWjUkifzVEZgmXs9AdwPvBWN9uKD0Nt4il8LvBdxFIda2jfXDiB3/wI86Cid1JRVQ1AHOj3h1wOfRlP70A08A3Q4vJbJHs/YzUMhRgo3YLSjSDvwMLAjzQBMcuYbTQe+i0T0Yk3gOzMUwaIMqbvQFuBJ4ARHqTNCjbAW4xZn3OjynEOxD0POT/PcHM1sDl2NadSyyx2OsCwaG/z8sCP6p1AHqg7v+BBrRaCzsZAlsDpwiSM4oRHAPIeP0O8sznBL63oXAbsjrkEasCm6DQeBZ4HTU0pMCy7n4TVgsqO40d059WMwqMdAR8gqXgf5G/AYMBV4PRrtxWbgJkfpJD7WRxzF4ah22rLEqwNY+lfgoQw/tzrwwgDeLZqFWwfsaX6Ws6D5+bKMNjzpk4r08zzUd+AUR5E2YA6wK8W8DrjAmW90O/BNjrBWoB4DX4bq2e4oNSbEx9qcOnBpi/08D0fVgc+B2xwFs8gy1ArgnxwBrUanHS0eDkcUl0l6Q1JN0oXRAUYf7BzpEUlfhDOeEdGMoUPFO52eIekTScsknZoamyppk6SVks4aRsUTVOyVb7ukcdFQL7ZJWi5ph6Tpku6KZgwvutqOIf5sSc9Hd/9H8FyoTKgMxfeBVqJqBvxdYgO6qyEdlhVfWRa6IqTNsmGP/afDdmCzpKUlNGCupJ2NbYK9+x4Yxragv7CDhlmJ3o1/tzFMlHSrpMkNLUKSau0rjH1tsWv7bfeSz7R2bTjW3268tZLrxrXSa9t1t/l8aHd21VeT9B+Lu4WPg3kpFQAAAABJRU5ErkJggg=="},32:function(e,t,a){"use strict";var n=a(1),c=a.n(n),r=a(4),s=a(6),o=a(5),l=a(18),d=a.n(l),i=a(33),u=a(28),m=a(9),b=function(e){var t=e.project,a=e.active,l=e.clickHandler,b=Object(n.useState)(!1),p=Object(r.a)(b,2),f=p[0],j=p[1],E=Object(o.c)(),k=E.projects,O=E.setProjects,v=Object(o.d)().setSelectedProject,y=function(){var e=Object(u.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.firestore().collection("projects").doc(t).delete();case 2:O(Object(i.a)(k)),v("INBOX");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement("li",{"data-doc-id":t.docId,"data-testid":"project-action",className:a===t.projectId?"active sidebar__project":"sidebar__project",onClick:l,onMouseLeave:function(){return j(!1)}},c.a.createElement("span",{className:"sidebar__dot"},"\u2022"),c.a.createElement("span",{className:"sidebar__project-name"},t.name),c.a.createElement("button",{type:"button",className:"sidebar__project-delete","data-testid":"delete-project",onClick:function(e){j(!f),e.stopPropagation()}},c.a.createElement(s.j,null),f&&c.a.createElement("div",{className:"project-delete-modal"},c.a.createElement("div",{className:"project-delete-modal__inner"},c.a.createElement("p",null,"Are you sure you want to delete this project?"),c.a.createElement("button",{type:"button",onClick:function(){return y(t.docId)}},"Delete"),c.a.createElement("span",{onClick:function(){return j(!f)},onKeyDown:function(){return j(!f)},tabIndex:0,role:"button","aria-label":"Cancel adding project, do not delete"},"Cancel")))))},p=function(e){var t=e.activeValue,a=void 0===t||t,s=Object(n.useState)(a),l=Object(r.a)(s,2),d=l[0],i=l[1],u=Object(o.d)().setSelectedProject,m=Object(o.c)().projects;return m&&m.map((function(e){return c.a.createElement(b,{key:e.projectId,project:e,active:d,clickHandler:function(){i(e.projectId),u(e.projectId)}})}))},f=a(10),j=a(11),E=function(e){var t=e.shouldShow,a=void 0!==t&&t,s=Object(n.useState)(a),l=Object(r.a)(s,2),d=l[0],i=l[1],u=Object(n.useState)(""),b=Object(r.a)(u,2),p=b[0],E=b[1],k=Object(f.b)(),O=Object(o.c)().setProjects;return c.a.createElement("div",{className:"add-project","data-testid":"add-project"},d&&c.a.createElement("div",{className:"add-project__input"},c.a.createElement("input",{className:"add-project__name",placeholder:"Name of the project",type:"text",value:p,onChange:function(e){return E(e.target.value)}})),c.a.createElement("button",{type:"button",className:d?"add-project__submit":"add-project__btn",onClick:function(){return d?void(p&&""!==p&&m.a.firestore().collection("projects").add({projectId:k,name:p,userId:"9M6CyUPreOyC8cQgA5E3"}).then((function(){O([]),E(""),i(!1)}))):i(!d)}},c.a.createElement("span",null,c.a.createElement(j.a,null)),"Add Project"),d&&c.a.createElement("button",{type:"button",className:"add-project__cancel",onClick:function(){return i(!1)}},"Cancel"))},k=function(){var e=Object(o.d)().setSelectedProject,t=Object(n.useState)("inbox"),a=Object(r.a)(t,2),l=a[0],d=a[1],i=Object(n.useState)(!0),u=Object(r.a)(i,2),m=u[0],b=u[1];return c.a.createElement("aside",{className:"sidebar","data-testid":"sidebar"},c.a.createElement("ul",{className:"sidebar__generic"},c.a.createElement("li",{className:"inbox"===l?"active":""},c.a.createElement("button",{type:"button","data-testid":"inbox",className:"non-style-btn",onClick:function(){d("inbox"),e("INBOX")}},c.a.createElement("span",null,c.a.createElement(s.b,null)),c.a.createElement("span",null," Inbox"))),c.a.createElement("li",{className:"today"===l?"active":""},c.a.createElement("button",{type:"button","data-testid":"today",className:"non-style-btn",onClick:function(){d("today"),e("TODAY")}},c.a.createElement("span",null,c.a.createElement(s.d,null)),c.a.createElement("span",null," Today"))),c.a.createElement("li",{className:"next_7"===l?"active":""},c.a.createElement("button",{type:"button","data-testid":"today",className:"non-style-btn",onClick:function(){d("next_7"),e("NEXT_7")}},c.a.createElement("span",null,c.a.createElement(s.e,null)),c.a.createElement("span",null," Next 7 days")))),c.a.createElement("div",{className:"sidebar__middle"},c.a.createElement("button",{type:"button","data-testid":"toggle-projects",className:"non-style-btn",onClick:function(){return b(!m)}},c.a.createElement("span",{className:"sidebar__projects-icon ".concat(m?"active":"")},c.a.createElement(s.a,null)),c.a.createElement("h2",null,"Projects"))),c.a.createElement("ul",{className:"sidebar__projects"},m&&c.a.createElement(p,null)),m&&c.a.createElement(E,null))},O=a(29),v=a.n(O),y=function(e){var t=e.id;return c.a.createElement("div",{className:"checkbox-holder","data-testid":"checkbox-action",onClick:function(){v.a.firestore().collection("tasks").doc(t).update({archived:!0})}},c.a.createElement("span",{className:"checkbox"}))},N=a(14),h=a(15),_=a(16),A=function(){var e=Object(o.d)().selectedProject,t=Object(o.c)().projects,a=Object(N.b)(e).tasks,r="";return t&&e&&!Object(f.a)(e)&&(r=Object(f.d)(t,e).name),Object(f.a)(e)&&e&&(r=Object(f.c)(h.a,e).name),Object(n.useEffect)((function(){document.title="".concat(r,": Todoist")})),c.a.createElement("div",{className:"tasks","data-testid":"tasks"},c.a.createElement("h2",{"data-testid":"project-name"},r),c.a.createElement("ul",{className:"tasks__list"},a.map((function(e){return c.a.createElement("li",{key:e.id},c.a.createElement(y,{id:e.id}),c.a.createElement("span",null,e.task))}))),c.a.createElement(_.a,null))};t.a=function(){return c.a.createElement("section",{className:"content"},c.a.createElement(k,null),c.a.createElement(A,null))}},34:function(e,t,a){e.exports=a(35)},35:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(22),s=a(23);Object(r.render)(c.a.createElement(s.a,null),document.getElementById("root"))},5:function(e,t,a){"use strict";var n=a(4),c=a(1),r=a.n(c),s=a(14),o=Object(c.createContext)(),l=function(e){var t=e.children,a=Object(s.a)(),c=Object(n.a)(a,2),l=c[0],d=c[1];return r.a.createElement(o.Provider,{value:{projects:l,setProjects:d}},t)},d=function(){return Object(c.useContext)(o)},i=Object(c.createContext)(),u=function(e){var t=e.children,a=Object(c.useState)("INBOX"),s=Object(n.a)(a,2),o=s[0],l=s[1];return r.a.createElement(i.Provider,{value:{selectedProject:o,setSelectedProject:l}},t)},m=function(){return Object(c.useContext)(i)};a.d(t,"a",(function(){return l})),a.d(t,"c",(function(){return d})),a.d(t,"b",(function(){return u})),a.d(t,"d",(function(){return m}))},53:function(e,t,a){},9:function(e,t,a){"use strict";var n=a(26),c=a.n(n),r=(a(42),c.a.initializeApp({apiKey:"AIzaSyDLrcfneEAxO1gh5d7Rij9FodDbiRoKl-8",authDomain:"todoist-app-sample.firebaseapp.com",databaseURL:"https://todoist-app-sample.firebaseio.com",projectId:"todoist-app-sample",storageBucket:"todoist-app-sample.appspot.com",messagingSenderId:"851076107450",appId:"1:851076107450:web:23c1269620720041704683"}));t.a=r}},[[34,1,2]]]);
//# sourceMappingURL=main.9c654986.chunk.js.map